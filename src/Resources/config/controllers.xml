<?xml version="1.0" encoding="UTF-8" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd">

    <services>
        <defaults autowire="true" autoconfigure="true" public="true"/>
        <prototype namespace="EMS\CoreBundle\Controller\" resource="../../Controller/*" exclude="../../Controller/{UserController.php,Api,AuthTokenController.php,Form,Revision/EditController.php,Revision/JsonMenuNestedController.php}"/>

        <service id="EMS\CoreBundle\Controller\DashboardController" public="true">
            <argument type="service" id="ems_core.core_revision_task.task_manager" />
            <tag name="controller.service_arguments"/>
        </service>

        <service id="EMS\CoreBundle\Controller\Api\Form\SubmissionController" public="true">
            <argument type="service" id="ems.form_submission" />
            <argument type="service" id="logger" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\Api\Form\VerificationController" public="true">
            <argument type="service" id="ems.form_verification" />
            <argument type="service" id="logger" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\Revision\EditController" public="true">
            <argument type="service" id="ems.service.data" />
            <argument type="service" id="ems_core.core_revision.draft_in_progress" />
            <argument type="service" id="logger" />
            <argument type="service" id="ems.service.publish" />
            <argument type="service" id="ems.service.revision" />
            <argument type="service" id="translator" />
            <argument type="service" id="ems.service.wysiwyg_styles_set" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\UserController" public="true">
            <argument type="service" id="logger" />
            <argument type="service" id="form.registry" />
            <argument type="service" id="ems_common.twig.runtime.request" />
            <argument>%ems_core.circles_object%</argument>
            <argument type="service" id="ems.service.user" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\Revision\JsonMenuNestedController" public="true">
            <argument type="service" id="ems.service.revision" />
            <argument type="service" id="doctrine" />
            <argument type="service" id="ems.service.data" />
            <argument type="service" id="twig"/>
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\Revision\TaskController" public="true">
            <argument type="service" id="ems_core.core_revision_task.task_manager" />
            <argument type="service" id="ems_core.core_ui.ajax_service" />
            <argument type="service" id="form.factory" />
            <argument type="service" id="ems_core.core_data_table.table_exporter" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\AuthTokenController" public="true">
            <argument type="service" id="ems.security.authenticator" />
            <argument type="service" id="twig" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\Form\SubmissionController" public="true">
            <argument type="service" id="ems.form_submission" />
            <argument type="service" id="translator" />
            <argument type="service" id="logger" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\ChannelController" public="true">
            <argument type="service" id="logger" />
            <argument type="service" id="ems.service.channel" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\QuerySearchController" public="true">
            <argument type="service" id="logger" />
            <argument type="service" id="ems.service.query_search" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\ContentManagement\ActionController" public="true">
            <argument type="service" id="logger" />
            <argument type="service" id="ems.service.action" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\ContentManagement\AssetController" public="true">
            <argument type="service" id="ems_common.storage.processor" />
            <argument type="service" id="ems.repository.channel" />
            <argument>%ems_core.asset_config%</argument>
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\ContentManagement\DatatableController" public="true">
            <argument type="service" id="ems.service.datatable" />
            <argument type="service" id="ems_core.core_data_table.table_renderer" />
            <argument type="service" id="ems_core.core_data_table.table_exporter" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\ElasticsearchController" public="true">
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\Search\QuerySearchController" public="true">
            <argument type="service" id="logger" />
            <argument type="service" id="ems.service.search" />
            <argument type="service" id="ems_common.service.elastica"/>
            <argument type="service" id="ems.service.contenttype" />
            <argument type="service" id="Symfony\Component\Security\Core\Authorization\AuthorizationCheckerInterface" />
            <argument type="service" id="ems.content_type.view_types" />
            <argument type="service" id="ems.service.query_search" />
            <argument type="service" id="EMS\CoreBundle\Controller\ElasticsearchController" />
            <tag name="controller.service_arguments"/>
        </service>
        <service id="EMS\CoreBundle\Controller\Dashboard\DashboardController" public="true">
            <argument type="service" id="logger"/>
            <argument type="service" id="ems.dashboard.manager" />
            <tag name="controller.service_arguments"/>
        </service>
    </services>
</container>
