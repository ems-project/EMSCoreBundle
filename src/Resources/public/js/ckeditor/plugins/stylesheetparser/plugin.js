CKEDITOR.plugins.add("stylesheetparser",{init:function(e){var t;e.filter.disable(),e.once("stylesSet",(function(s){s.cancel(),e.once("contentDom",(function(){e.getStylesSet((function(s){t=s.concat(function(e,t,s){var l,n=[],r=[];for(l=0;l<e.styleSheets.length;l++)if(!(((c=e.styleSheets[l]).ownerNode||c.owningElement).getAttribute("data-cke-temp")||c.href&&"chrome://"==c.href.substr(0,9)))try{for(var o=c.cssRules||c.rules,c=0;c<o.length;c++)r.push(o[c].selectorText)}catch(e){}for(l=(l=(l=(l=(l=(l=(l=r.join(" ")).replace(/(,|>|\+|~)/g," ")).replace(/\[[^\]]*/g,"")).replace(/#[^\s]*/g,"")).replace(/\:{1,2}[^\s]*/g,"")).replace(/\s+/g," ")).split(" "),e=[],r=0;r<l.length;r++)o=l[r],s.test(o)&&!t.test(o)&&-1==CKEDITOR.tools.indexOf(e,o)&&e.push(o);for(l=0;l<e.length;l++)t=(s=e[l].split("."))[0].toLowerCase(),s=s[1],n.push({name:t+"."+s,element:t,attributes:{class:s}});return n}(e.document.$,e.config.stylesheetParser_skipSelectors||/(^body\.|^\.)/i,e.config.stylesheetParser_validSelectors||/\w+\.\w+/)),e.getStylesSet=function(e){if(t)return e(t)},e.fire("stylesSet",{styles:t})}))}))}),null,null,1)}});