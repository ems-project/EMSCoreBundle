!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(e){var t=new URL(window.location.href).searchParams,n=document.getElementById("dashboard-browser");if(null!==n){var a=n.dataset.type;document.addEventListener("click",(function(e){if("a"===e.target.tagName.toLowerCase()){e.preventDefault();var n=new URL(e.target.href),o=e.target.innerText,r=e.target.dataset.emsId;window.opener.CKEDITOR.tools.callFunction(t.get("CKEditorFuncNum"),n,(function(){var e=this.getDialog();switch(a){case"browser_image":e.getContentElement("info","src").setValue(n.pathname+n.search);break;case"browser_object":e.getContentElement("info","localPage").setValue({id:r?r.replace("ems://object:",""):n.toString(),text:o});break;case"browser_file":var t=e.getContentElement("info","fileLink");t.setValue(o),t.getInputElement().$.setAttribute("data-link",null!=r?r:n.toString())}})),window.close()}}))}}))}();